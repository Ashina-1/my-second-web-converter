<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>PEライン → リーダー号数変換ツール （タナトル4専用）</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="stylesheet.css" />
  </head>
  <body>
    <header>
      <div class="container">
        <div class="header-left">
          <a class="logo" href="index.html" aria-label="ホーム">
            <svg width="40" height="28" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M22 12c0 0-4-2-8-2s-8 2-8 2S2 14 2 18s3 4 7 4 6-2 8-4 5-4 5-6-1-2-1-2z" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="7" cy="12" r="1" fill="currentColor"/></svg>
          </a>
        </div>
        <div class="header-right">
          <a href="index.html">ホーム</a>
          <a href="fishing-log2.html">釣果一覧</a>
          <a href="fishing-log.html">登録</a>
          <div class="nav-tools">
            <button class="tools-btn" aria-haspopup="true" aria-expanded="false">ツール ▾</button>
            <div class="submenu" role="menu">
              <a role="menuitem" href="pe-converter.html">PE変換</a>
              <a role="menuitem" href="pe(tanatoru4)-converter.html">タナトル4</a>
              <a role="menuitem" href="index.html">その他</a>
            </div>
          </div>
          <a href="profile.html">プロフィール</a>
        </div>
        <button class="menu-icon" id="menuIcon" aria-label="メニュー">
          <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
        </button>
      </div>
    </header>
    <section class="top-wrapper">
      <div class="wave top">
        <svg
          viewBox="0 0 1440 120"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="#4fc3f7"
            fill-opacity="0.5"
            d="M0,80 C360,160 1080,0 1440,80 L1440,120 L0,120 Z"
          ></path>
        </svg>
      </div>
      <h2>タナトル４ → リーダー変換ツール</h2>
      <p style="color:#fff;text-align:center;max-width:720px;margin:6px auto 18px;">タナトル4 の目安に合わせた変換を行います。<br>タナトル4の号数を入力して計算してください。<br></p>

    <section class="card">
      <label for="pe">号数を入力してください</label>
      <input type="number" id="pe" step="0.1" placeholder="例: 1.5" />
      <div
        style="display: flex; gap: 12px; margin-top: 12px; align-items: center"
      >
        <button id="convertBtn" class="btn">計算する</button>
        <button id="clearBtn" class="btn secondary">クリア</button>
      </div>
      <p
        id="result"
        style="margin-top: 12px; color: #045; font-weight: 600"
      ></p>
    </section>

    <!-- 外部JS読み込み -->
    <script src="Tanatoru4-script.js"></script>

    <!-- ホームへ戻るボタン -->
    <button
      id="homeBtn"
      class="home-btn"
      title="ホームへ戻る"
      aria-label="ホームへ戻る"
    >
      <svg
        width="22"
        height="22"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
        focusable="false"
      >
        <path
          d="M3 10.5L12 4l9 6.5"
          fill="none"
          stroke="currentColor"
          stroke-width="1.6"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M5 10.5v7a1 1 0 0 0 1 1h3v-5h6v5h3a1 1 0 0 0 1-1v-7"
          fill="none"
          stroke="currentColor"
          stroke-width="1.6"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </button>

    <!-- page styles moved to stylesheet.css -->

    <script>
      document.getElementById("homeBtn").addEventListener("click", () => {
        window.location.href = "index.html";
      });
      // If Tanatoru4-script exposes a convert function, call it; otherwise do a simple fallback
      document.getElementById("convertBtn").addEventListener("click", () => {
        const pe = parseFloat(document.getElementById("pe").value);
        const out = document.getElementById("result");
        if (isNaN(pe) || pe <= 0) {
          out.textContent = "正しい値を入力してください";
          return;
        }
        if (typeof window.tanatoruConvert === "function") {
          try {
            out.textContent =
              window.tanatoruConvert(pe) || "計算結果を取得できませんでした";
          } catch (e) {
            console.error(e);
            out.textContent = "計算中にエラーが発生しました";
          }
        } else {
          const lb = Math.round(pe * 20 * 10) / 10;
          out.textContent = `推奨リーダー：約 ${lb} lb`;
        }
      });
      document.getElementById("clearBtn").addEventListener("click", () => {
        document.getElementById("pe").value = "";
        document.getElementById("result").textContent = "";
      });
    </script>
    <script src="scripts/header.js"></script>
  </body>
</html>
